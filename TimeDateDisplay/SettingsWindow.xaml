<Window x:Class="TimeDateDisplay.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        Title="Settings"
        Height="450"
        Width="400"
        WindowStyle="ToolWindow"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        Background="#FF1E1E1E"
        Foreground="White">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Opacity Setting -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Opacity" FontSize="14" FontWeight="Bold" Margin="0,0,0,5"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="60"/>
                </Grid.ColumnDefinitions>
                <Slider x:Name="OpacitySlider"
                        Grid.Column="0"
                        Minimum="0.1"
                        Maximum="1.0"
                        Value="1.0"
                        TickFrequency="0.25"
                        IsSnapToTickEnabled="False"
                        VerticalAlignment="Center"
                        ValueChanged="OpacitySlider_ValueChanged"/>
                <TextBlock x:Name="OpacityValue"
                           Grid.Column="1"
                           Text="100%"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           FontWeight="Bold"/>
            </Grid>
        </StackPanel>

        <!-- Always On Top Setting -->
        <StackPanel Grid.Row="1" Margin="0,0,0,20">
            <CheckBox x:Name="AlwaysOnTopCheckBox"
                      Content="Always On Top"
                      FontSize="14"
                      FontWeight="Bold"
                      IsChecked="True"
                      Foreground="White"/>
        </StackPanel>

        <!-- Font Color Setting -->
        <StackPanel Grid.Row="2" Margin="0,0,0,20">
            <TextBlock Text="Font Color" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Rectangle x:Name="FontColorPreview"
                   Grid.Column="0"
                   Width="40"
                   Height="30"
                   Fill="White"
                   Stroke="Gray"
                   StrokeThickness="1"
                   Margin="0,0,10,0"/>

                <TextBox x:Name="FontColorTextBox"
                 Grid.Column="1"
                 Text="#FFFFFF"
                 VerticalAlignment="Center"
                 Background="#FF3A3A3A"
                 Foreground="White"
                 BorderBrush="Gray"
                 Padding="5"
                 TextChanged="FontColorTextBox_TextChanged"/>

                <xctk:ColorPicker x:Name="FontColorPicker"
                          Grid.Column="2"
                          Width="80"
                          Height="30"
                          Margin="10,0,0,0"
                          SelectedColorChanged="FontColorPicker_SelectedColorChanged"/>
            </Grid>
        </StackPanel>

        <!-- Background Color Setting -->
        <StackPanel Grid.Row="3" Margin="0,0,0,20">
            <TextBlock Text="Background Color" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Rectangle x:Name="BackgroundColorPreview"
                   Grid.Column="0"
                   Width="40"
                   Height="30"
                   Fill="#FF2D2D2D"
                   Stroke="Gray"
                   StrokeThickness="1"
                   Margin="0,0,10,0"/>

                <TextBox x:Name="BackgroundColorTextBox"
                 Grid.Column="1"
                 Text="#FF2D2D2D"
                 VerticalAlignment="Center"
                 Background="#FF3A3A3A"
                 Foreground="White"
                 BorderBrush="Gray"
                 Padding="5"
                 TextChanged="BackgroundColorTextBox_TextChanged"/>

                <xctk:ColorPicker x:Name="BackgroundColorPicker"
                          Grid.Column="2"
                          Width="80"
                          Height="30"
                          Margin="10,0,0,0"
                          SelectedColorChanged="BackgroundColorPicker_SelectedColorChanged"/>
            </Grid>
        </StackPanel>

        <!-- Preview -->
        <Border Grid.Row="4" 
                x:Name="PreviewBorder"
                Background="#FF2D2D2D" 
                Margin="0,10,0,20"
                Padding="10">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="Preview" FontSize="12" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                <TextBlock x:Name="PreviewTime"
                           Text="12:34:56"
                           FontSize="24"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,5"/>
                <TextBlock x:Name="PreviewDate"
                           Text="Monday, January 01, 2024"
                           FontSize="14"
                           HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- Buttons -->
        <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button x:Name="OKButton"
                    Content="OK"
                    Width="80"
                    Height="30"
                    Margin="0,0,10,0"
                    Background="#FF3A3A3A"
                    Foreground="White"
                    BorderBrush="Gray"
                    Click="OKButton_Click"/>
            <Button x:Name="CancelButton"
                    Content="Cancel"
                    Width="80"
                    Height="30"
                    Background="#FF3A3A3A"
                    Foreground="White"
                    BorderBrush="Gray"
                    Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</Window>